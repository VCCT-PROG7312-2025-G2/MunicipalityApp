@{
    ViewData["Title"] = "Main Menu";
}

<section class="main-menu" aria-labelledby="menu-heading">
    <h1 id="menu-heading" class="mb-1">Main Menu</h1>
    <p class="text-muted">Choose a task to continue.</p>

    <div class="card-grid" role="list">
        <!-- Report Issues (active - Part 1) -->
        <article class="task-card task-card--active" role="listitem">
            <div class="task-card__body">
                <span class="badge status-active" aria-label="Feature is active">Active</span>
                <h3 class="mt-2">Report Issues</h3>
                <p>Log problems like potholes, water leaks, refuse collection, or outages.</p>
            </div>
            <div class="task-card__cta">
                <a class="btn btn-primary w-100"
                   asp-controller="Issues" asp-action="Create"
                   aria-describedby="report-desc">Open</a>
                <span id="report-desc" class="visually-hidden">Open the Report Issues task</span>
            </div>
        </article>

        <!-- Local Events & Announcements (active - Part 2) -->
        <article class="task-card task-card--active" role="listitem">
            <div class="task-card__body">
                <span class="badge status-active" aria-label="Feature is active">Active</span>
                <h3 class="mt-2">Local Events &amp; Announcements</h3>
                <p>Browse upcoming municipal events and important community notices.</p>
            </div>
            <div class="task-card__cta">
                <a class="btn btn-primary w-100"
                   asp-controller="Events" asp-action="Index"
                   aria-describedby="events-desc">Open</a>
                <span id="events-desc" class="visually-hidden">Open Local Events and Announcements</span>
            </div>
        </article>

        <!-- Service Request Status (now active - Part 3) -->
        <article class="task-card task-card--active" role="listitem">
            <div class="task-card__body">
                <span class="badge status-active" aria-label="Feature is active">Active</span>
                <h3 class="mt-2">Service Request Status</h3>
                <p>Track the progress of previously submitted requests using your reference number.</p>
            </div>
            <div class="task-card__cta">
                <a class="btn btn-primary w-100"
                   asp-controller="Requests" asp-action="Index"
                   aria-describedby="status-desc">Open</a>
                <span id="status-desc" class="visually-hidden">Open Service Request Status</span>
            </div>
        </article>
    </div>
</section>

<style>
    /* A11y helper */
    .visually-hidden {
        position: absolute !important;
        width: 1px !important;
        height: 1px !important;
        padding: 0 !important;
        margin: -1px !important;
        overflow: hidden !important;
        clip: rect(0,0,0,0) !important;
        border: 0 !important;
    }

    .main-menu {
        padding: 2rem 1rem;
        /* Background image from wwwroot/images/city-background.jpg */
        background-image: linear-gradient(rgba(255, 255, 255, 0.82), rgba(255, 255, 255, 0.82)), url('@Url.Content("~/images/city-background.jpg")');
        background-size: cover;
        background-position: center;
        background-repeat: no-repeat;
        border-radius: 12px;
        border: 1px solid #e5e7eb;
    }

    .card-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
        gap: 1rem;
    }

    .task-card {
        display: flex;
        justify-content: space-between;
        align-items: flex-start;
        gap: 1rem;
        padding: 1rem 1.25rem;
        min-height: 140px;
        border: 1px solid #e5e7eb;
        border-radius: 14px;
        background: #fff;
        box-shadow: 0 1px 2px rgba(16,24,40,0.06);
        outline: none;
    }

        .task-card:focus-within {
            box-shadow: 0 0 0 3px rgba(37,99,235,.25);
        }

    .task-card__body {
        max-width: 70%;
    }

    .task-card__cta {
        width: 220px;
        max-width: 35%;
        align-self: center;
    }

    .task-card--active {
        transition: transform .08s ease, box-shadow .08s ease;
    }

        .task-card--active:hover {
            transform: translateY(-1px);
            box-shadow: 0 4px 10px rgba(16,24,40,0.08);
        }

    .badge {
        display: inline-block;
        font-size: .75rem;
        padding: .15rem .5rem;
        border-radius: 999px;
    }

    .status-active {
        background: #e6f4ea;
        color: #0f5132;
        border: 1px solid #badbcc;
    }

    .badge-coming {
        background: #e5e7eb;
        color: #374151;
        border: 1px solid #d1d5db;
    }
</style>
